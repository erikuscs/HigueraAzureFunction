exports.id=685,exports.ids=[685],exports.modules={5353:(t,e,r)=>{"use strict";r.a(t,async(t,i)=>{try{r.d(e,{Z:()=>E});var n=r(997),s=r(6689),a=r(2305),o=r(5043),c=r(4206),l=r(2154),u=r(4283),d=r(6531),p=r(5450),h=r(3809),m=t([a,o,c,l,u,d,p,h]);function E(){let[t,e]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[m,E]=(0,s.useState)(null);return r?n.jsx("div",{className:"flex justify-center items-center h-40",children:"Loading chart data..."}):m?(0,n.jsxs)("div",{className:"text-red-500 text-center h-40",children:["Error: ",m]}):(0,n.jsxs)("div",{className:"w-full h-80",children:[n.jsx(a.h,{width:"100%",height:"100%",children:(0,n.jsxs)(o.v,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(c.q,{strokeDasharray:"3 3"}),n.jsx(l.K,{dataKey:"month"}),n.jsx(u.B,{}),n.jsx(d.u,{formatter:(t,e)=>[`${t} hours`,e.charAt(0).toUpperCase()+e.slice(1)]}),n.jsx(p.D,{}),n.jsx(h.$,{name:"Actual Hours",dataKey:"hours",fill:"#3B82F6"}),n.jsx(h.$,{name:"Budgeted Hours",dataKey:"budget",fill:"#10B981"})]})}),(0,n.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-center",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Hours"}),n.jsx("p",{className:"text-xl font-bold",children:t.reduce((t,e)=>t+e.hours,0)})]}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Budgeted Hours"}),n.jsx("p",{className:"text-xl font-bold",children:t.reduce((t,e)=>t+e.budget,0)})]})]})]})}[a,o,c,l,u,d,p,h]=m.then?(await m)():m,i()}catch(t){i(t)}})},2758:(t,e,r)=>{"use strict";r.r(e),r.d(e,{queryLogs:()=>h,startOperation:()=>m,stopOperation:()=>E,trackDependency:()=>p,trackEvent:()=>l,trackException:()=>c,trackMetric:()=>u,trackRequest:()=>d});let i=null,n=null,s=null;try{i=r(6042);let{DefaultAzureCredential:t}=r(5113),{LogAnalyticsClient:e}=r(8700);n=t,s=e}catch(t){console.error("Error importing server-side modules:",t)}class a{constructor(){this.initialized=!1,this.initializeAppInsights(),this.initializeLogAnalytics()}static getInstance(){return a.instance||(a.instance=new a),a.instance}initializeAppInsights(){!this.initialized&&process.env.APPLICATIONINSIGHTS_CONNECTION_STRING&&i&&(i.setup(process.env.APPLICATIONINSIGHTS_CONNECTION_STRING).setAutoDependencyCorrelation(!0).setAutoCollectRequests(!0).setAutoCollectPerformance(!0).setAutoCollectExceptions(!0).setAutoCollectDependencies(!0).setAutoCollectConsole(!0).setUseDiskRetryCaching(!0).setSendLiveMetrics(!0).setDistributedTracingMode(i.DistributedTracingModes.AI_AND_W3C),i.defaultClient.context.tags[i.defaultClient.context.keys.cloudRole]="HigueraFunction",i.start(),this.client=i.defaultClient,this.initialized=!0)}initializeLogAnalytics(){if(n&&s)try{let t=new n;this.logAnalyticsClient=new s(t)}catch(t){console.error("Error initializing Log Analytics client:",t)}}trackException(t,e){if(this.initialized)try{let r={...e,errorName:t.name,stackTrace:t.stack,timestamp:new Date().toISOString()};this.client.trackException({exception:t,properties:r})}catch(t){console.error("Error tracking exception:",t)}}trackEvent(t,e){if(this.initialized)try{let r={...e,timestamp:new Date().toISOString(),environment:process.env.AZURE_ENVIRONMENT||"development"};this.client.trackEvent({name:t,properties:r})}catch(t){console.error("Error tracking event:",t)}}trackMetric(t,e,r){if(this.initialized)try{let i={...r,timestamp:new Date().toISOString(),environment:process.env.AZURE_ENVIRONMENT||"development"};this.client.trackMetric({name:t,value:e,properties:i})}catch(t){console.error("Error tracking metric:",t)}}trackRequest(t,e,r,i,n){if(this.initialized)try{let s={...n,timestamp:new Date().toISOString(),environment:process.env.AZURE_ENVIRONMENT||"development"};this.client.trackRequest({name:t,url:e,duration:r,success:i,properties:s})}catch(t){console.error("Error tracking request:",t)}}trackDependency(t,e,r,i,n){if(this.initialized)try{let s={...n,timestamp:new Date().toISOString(),environment:process.env.AZURE_ENVIRONMENT||"development"};this.client.trackDependency({name:t,data:e,duration:r,success:i,properties:s,dependencyTypeName:"HTTP"})}catch(t){console.error("Error tracking dependency:",t)}}async queryLogs(t,e){if(!this.logAnalyticsClient)return null;try{let r=process.env.LOG_ANALYTICS_WORKSPACE_ID;if(!r)throw Error("LOG_ANALYTICS_WORKSPACE_ID not configured");return await this.logAnalyticsClient.queryWorkspace(r,t,{timeRange:e})}catch(t){throw this.initialized&&this.trackException(t,{operation:"queryLogs"}),t}}startOperation(t){if(!this.initialized)return null;try{return this.client.startOperation({name:t})}catch(t){return console.error("Error starting operation:",t),null}}stopOperation(t){if(this.initialized&&t)try{this.client.stopOperation(t)}catch(t){console.error("Error stopping operation:",t)}}}let o=a.getInstance(),c=(t,e)=>o.trackException(t,e),l=(t,e)=>o.trackEvent(t,e),u=(t,e,r)=>o.trackMetric(t,e,r),d=(t,e,r,i,n)=>o.trackRequest(t,e,r,i,n),p=(t,e,r,i,n)=>o.trackDependency(t,e,r,i,n),h=(t,e)=>o.queryLogs(t,e),m=t=>o.startOperation(t),E=t=>o.stopOperation(t)},4819:(t,e,r)=>{"use strict";let i=null;try{let{DefaultAzureCredential:t}=r(5113),{trackException:e}=r(2758);i=e}catch(t){console.error("Error importing server-side modules:",t)}class n extends Error{constructor(t,e=500){super(t),this.name="AppError",this.statusCode=e,Error.captureStackTrace(this,this.constructor)}}async function s(t,e=3,r=1e3){let n;for(let s=0;s<e;s++)try{return await t()}catch(o){if(n=o,!([408,429,500,502,503,504].includes(o.statusCode)||["ETIMEDOUT","ECONNRESET","ECONNREFUSED","EPIPE","EHOSTUNREACH","ENETUNREACH","ESOCKETTIMEDOUT"].includes(o.code)||o.message.toLowerCase().includes("timeout")||o.message.toLowerCase().includes("network")||o.message.toLowerCase().includes("temporarily unavailable"))||s===e-1)throw o;let t=Math.min(r*Math.pow(2,s)+1e3*Math.random(),1e4);i&&i(o,{operation:"retry",attempt:s.toString(),nextDelay:t.toString()}),await a(t)}throw n}function a(t){return new Promise(e=>setTimeout(e,t))}function o(t){if("string"==typeof t)return t.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim();if(Array.isArray(t))return t.map(o);if("object"==typeof t&&null!==t){let e={};for(let[r,i]of Object.entries(t))e[r]=o(i);return e}return t}function c(t){if("number"!=typeof t||isNaN(t))throw new n("Invalid currency value",400);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}process.env.APPLICATIONINSIGHTS_CONNECTION_STRING,t.exports={AppError:n,withRetry:s,sleep:a,sanitizeInput:o,validateEmail:function(t){return"string"==typeof t&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},formatDashboardData:function(t){try{if(!t||"object"!=typeof t)throw new n("Invalid dashboard data",400);let e=function(t){if(!t||"object"!=typeof t)throw new n("Invalid KPI data",400);return`
HIGUERA PROJECT - EXECUTIVE SUMMARY

KEY METRICS:
• Total Budget: ${c(t.totalBudget)}
• Spent: ${c(t.spent)}
• Remaining: ${c(t.remaining)}
• Overrun Risk: ${t.risk}
`}(t.kpis),r=function(t){if(!Array.isArray(t))throw new n("Invalid issues data",400);let e=t.slice(0,5).map(t=>`
• ${t.date} - ${t.system}
  Issue: ${o(t.issue)}
  Impact: ${o(t.impact)}
  Accountability: ${o(t.accountability)}`).join("\n");return`
RECENT ISSUES:${e}`}(t.issues),i=function(t){if(!Array.isArray(t))throw new n("Invalid schedule data",400);let e=t.map(t=>`• ${o(t.task)}: Plan ${t.Planned}% vs Actual ${t.Actual}%`).join("\n");return`
SCHEDULE STATUS:
${e}

For detailed charts and visualizations, please visit the project dashboard.
`}(t.schedule);return`${e}${r}${i}`}catch(t){throw i&&i(t,{operation:"formatDashboardData"}),new n("Error formatting dashboard data",500)}},formatCurrency:c,formatErrorResponse:function(t){return{error:{message:t.message,type:t.name,statusCode:t.statusCode||500}}},logError:function(t,e={}){i&&i(t,{...e,timestamp:new Date().toISOString(),errorName:t.name,errorMessage:t.message,stackTrace:t.stack})}}},3414:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});var i=r(997);function n({Component:t,pageProps:e}){return i.jsx(t,{...e})}r(6764)},6764:()=>{}};