(()=>{var e={};e.id=727,e.ids=[727,660],e.modules={2264:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>y,routeModule:()=>k,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>g});var n=r(7093),i=r(5244),s=r(1323),o=r(2899),c=r.n(o),l=r(3414),u=r(5920),d=e([u]);u=(d.then?(await d)():d)[0];let h=(0,s.l)(u,"default"),p=(0,s.l)(u,"getStaticProps"),m=(0,s.l)(u,"getStaticPaths"),x=(0,s.l)(u,"getServerSideProps"),b=(0,s.l)(u,"config"),y=(0,s.l)(u,"reportWebVitals"),g=(0,s.l)(u,"unstable_getStaticProps"),f=(0,s.l)(u,"unstable_getStaticPaths"),v=(0,s.l)(u,"unstable_getStaticParams"),j=(0,s.l)(u,"unstable_getServerProps"),w=(0,s.l)(u,"unstable_getServerSideProps"),k=new n.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/ExecutiveSummary",pathname:"/ExecutiveSummary",bundlePath:"",filename:""},components:{App:l.default,Document:c()},userland:u});a()}catch(e){a(e)}})},2599:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>c});var n=r(997),i=r(6689),s=r(6737),o=e([s]);s=(o.then?(await o)():o)[0];let c=({tasks:e,onTaskUpdated:t})=>{let[r,a]=(0,i.useState)(""),[o,c]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),[x,b]=(0,i.useState)(""),y=async e=>{if(e.preventDefault(),!r){m("Please select a task");return}if(!o||o<0||o>100){m("Percentage must be between 0 and 100");return}if(!l||l<=0){m("Hours logged must be greater than 0");return}h(!0),m(""),b("");try{let e=await s.O.acquireToken(["api://211478db-e6e4-4752-a627-00a64033eb85/Tasks.ReadWrite"]).catch(e=>{throw Error("Authentication failed. Please sign in again.")}),n=await fetch("/api/updateTask",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({taskName:r,actualPercentage:Number(o),hoursLogged:Number(l)})});if(!n.ok){let e=await n.json();throw Error(e.error||"Failed to update task")}let i=await n.json();b(`Task updated successfully. New projected completion date: ${new Date(i.hoursTracking.projectedEndDate).toLocaleDateString()}`),a(""),c(""),u(""),t&&t(i)}catch(e){console.error("Task update error:",e),m(e instanceof Error?e.message:"Failed to update task")}finally{h(!1)}};return(0,n.jsxs)("div",{className:"task-update-form bg-white p-4 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Update Task Completion"}),p&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg mb-4",children:p}),x&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-lg mb-4",children:x}),n.jsx("form",{onSubmit:y,children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"task",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Task"}),(0,n.jsxs)("select",{id:"task",value:r,onChange:e=>a(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",disabled:d,children:[n.jsx("option",{value:"",children:"Select a task..."}),e.map(e=>(0,n.jsxs)("option",{value:e.task,children:[e.task," (Current: ",e.Actual,"%)"]},e.task))]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"percentage",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Completion Percentage"}),n.jsx("input",{id:"percentage",type:"number",min:"0",max:"100",value:o,onChange:e=>c(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., 75",disabled:d})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"hours",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Logged"}),n.jsx("input",{id:"hours",type:"number",min:"0.5",step:"0.5",value:l,onChange:e=>u(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., 8",disabled:d})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"submit",disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:d?"Updating...":"Update Task"})})]})}),n.jsx("div",{className:"mt-4 text-sm text-gray-500",children:n.jsx("p",{children:"Updating task completion will recalculate the projected completion date."})})]})};a()}catch(e){a(e)}})},3750:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m Unexpected token `response`. Expected ... , *,  (, [, :, , ?, = or an identifier\n    ,-[\x1b[36;1;4m/Users/erikherring/HigueraAzureFunction/components/WorkerHoursForm.jsx\x1b[0m:74:1]\n \x1b[2m74\x1b[0m |         // Verify '/api/logWorkerHours' is the correct route for your Azure Function\n \x1b[2m75\x1b[0m |         const functionUrl = `${process.env.NEXT_PUBLIC_AZURE_FUNCTION_URL}/api/logWorkerHours`;\n \x1b[2m76\x1b[0m |       const response = await fetch('/api/logWorkerHours', {\n \x1b[2m77\x1b[0m |         const response = await fetch(functionUrl, { // <-- Use functionUrl here\n    : \x1b[31;1m              ^^^^^^^^\x1b[0m\n \x1b[2m78\x1b[0m |           method: 'POST',\n \x1b[2m79\x1b[0m |           headers: {\n \x1b[2m80\x1b[0m |               'Content-Type': 'application/json',\n    `----\n\n\nCaused by:\n    Syntax Error")},9258:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var a=r(4819);let n=null,i=null;try{n=r(7773);let{trackException:e}=r(2758);i=e}catch(e){console.error("Error importing server-side modules:",e)}class s{constructor(){this.isConnected=!1,this.connectionTimeout=null,this.MAX_RETRY_ATTEMPTS=10,this.INITIAL_RETRY_DELAY=100,this.MAX_RETRY_DELAY=5e3,n&&this.initializeRedis()}async initializeRedis(){try{let e=process.env.REDIS_CONNECTION_STRING;if(!e)throw Error("Redis connection string is not configured");this.client=n.createClient({url:e,socket:{tls:!0,reconnectStrategy:e=>e>this.MAX_RETRY_ATTEMPTS?Error("Redis max retries reached"):Math.min(this.INITIAL_RETRY_DELAY*Math.pow(1.5,e),this.MAX_RETRY_DELAY),connectTimeout:15e3}}),this.client.on("error",e=>{i&&i(e,{service:"RedisCache",event:"connection-error"}),this.isConnected=!1,this.scheduleReconnect()}),this.client.on("connect",()=>{this.isConnected=!0,this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null)}),this.client.on("reconnecting",()=>{i&&i(Error("Redis reconnecting"),{service:"RedisCache",event:"reconnecting"})}),await this.client.connect()}catch(e){i&&i(e,{service:"RedisCache",operation:"initializeRedis"}),this.isConnected=!1,this.scheduleReconnect()}}scheduleReconnect(){this.connectionTimeout||(this.connectionTimeout=setTimeout(()=>{this.connectionTimeout=null,this.initializeRedis().catch(e=>{i&&i(e,{service:"RedisCache",operation:"scheduleReconnect"})})},5e3))}async get(e){if(!this.isConnected)throw new a.AppError("Redis not connected",503);try{let t=await this.client.get(e);return t?JSON.parse(t):null}catch(t){throw i&&i(t,{service:"RedisCache",operation:"get",key:e}),t}}async set(e,t,r=300){if(!this.isConnected)throw new a.AppError("Redis not connected",503);try{let a=JSON.stringify(t);await this.client.set(e,a,{EX:r})}catch(t){throw i&&i(t,{service:"RedisCache",operation:"set",key:e}),t}}async delete(e){if(!this.isConnected)throw new a.AppError("Redis not connected",503);try{await this.client.del(e)}catch(t){throw i&&i(t,{service:"RedisCache",operation:"delete",key:e}),t}}}class o{async get(e){let t=this.cache.get(e);return t?Date.now()>t.expiry?(this.cache.delete(e),null):t.value:null}async set(e,t,r=300){let a=Date.now()+1e3*r;this.cache.set(e,{value:t,expiry:a}),this.cache.size>100&&this.cleanup()}async delete(e){this.cache.delete(e)}cleanup(){let e=Date.now();for(let[t,r]of this.cache.entries())e>r.expiry&&this.cache.delete(t)}constructor(){this.cache=new Map}}class c{constructor(){this.fallbackCache=new o,this.primaryCache=process.env.REDIS_CONNECTION_STRING?new s:this.fallbackCache}static getInstance(){return c.instance||(c.instance=new c),c.instance}async get(e){try{return await this.primaryCache.get(e)}catch(t){return i&&i(t,{service:"CacheService",operation:"get",key:e}),this.fallbackCache.get(e)}}async set(e,t,r){try{await this.primaryCache.set(e,t,r)}catch(a){i&&i(a,{service:"CacheService",operation:"set",key:e}),await this.fallbackCache.set(e,t,r)}}async delete(e){try{await this.primaryCache.delete(e)}catch(t){i&&i(t,{service:"CacheService",operation:"delete",key:e}),await this.fallbackCache.delete(e)}}}let l=c.getInstance()},6737:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{O:()=>u});var n=r(4872),i=r(2758),s=r(9258),o=e([n]);n=(o.then?(await o)():o)[0];let c={auth:{clientId:process.env.NEXT_PUBLIC_AZURE_AD_CLIENT_ID,authority:`https://login.microsoftonline.com/${process.env.NEXT_PUBLIC_AZURE_AD_TENANT_ID}`,redirectUri:void 0,postLogoutRedirectUri:void 0},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{allowNativeBroker:!1,loggerOptions:{loggerCallback:(e,t,r)=>{if(!r)switch(e){case 0:(0,i.trackException)(Error(t));break;case 2:console.info(t);break;case 3:console.debug(t)}},logLevel:2}}};class l{constructor(){this.currentAccount=null,this.msalInstance=new n.PublicClientApplication(c)}static getInstance(){return l.instance||(l.instance=new l),l.instance}async initialize(){try{await this.msalInstance.initialize(),await this.msalInstance.handleRedirectPromise();let e=this.msalInstance.getAllAccounts();e.length>0&&(this.currentAccount=e[0],(0,i.trackEvent)("auth_initialized",{success:"true"}))}catch(e){throw(0,i.trackException)(e,{operation:"auth_initialize"}),e}}async login(){try{await this.msalInstance.loginRedirect({scopes:["User.Read","Mail.Send"]}),(0,i.trackEvent)("auth_login_initiated")}catch(e){throw(0,i.trackException)(e,{operation:"auth_login"}),e}}async logout(){try{await this.msalInstance.logoutRedirect(),this.currentAccount=null,(0,i.trackEvent)("auth_logout")}catch(e){throw(0,i.trackException)(e,{operation:"auth_logout"}),e}}async acquireToken(e){let t=`token_${e.join("_")}`;try{let r=await s.Q.get(t);if(r)return r;if(!this.currentAccount)throw Error("No active account");let a=await this.msalInstance.acquireTokenSilent({scopes:e,account:this.currentAccount});return await s.Q.set(t,a.accessToken,3300),a.accessToken}catch(r){if(r instanceof Error&&r.message.includes("interaction_required")){let r=await this.msalInstance.acquireTokenPopup({scopes:e});return await s.Q.set(t,r.accessToken,3300),r.accessToken}throw(0,i.trackException)(r,{operation:"acquire_token",scopes:e.join(",")}),r}}getAccount(){return this.currentAccount}isAuthenticated(){return null!==this.currentAccount}}let u=l.getInstance();a()}catch(e){a(e)}})},8933:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{x:()=>$});var n=r(6689),i=r.n(n),s=r(3522),o=r.n(s),c=r(5716),l=r.n(c),u=r(6069),d=r.n(u),h=r(113),p=r.n(h),m=r(6593),x=r(9409),b=r(632),y=r(357),g=r(759),f=r(4526),v=r(5516),j=r(710),w=r(3387),k=r(4473),N=e([m,f,k,y,x,g,b]);[m,f,k,y,x,g,b]=N.then?(await N)():N;var S=["type","layout","connectNulls","ref"],A=["key"];function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return R(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function _(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,U(a.key),a)}}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q=function(){return!!e})()}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,r){return(t=U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=E(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}var $=function(e){var t,r;function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,r,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=a,r=[].concat(i),t=I(t),e=function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,q()?Reflect.construct(t,r||[],I(this).constructor):t.apply(this,r)),F(e,"state",{isAnimationFinished:!0,totalLength:0}),F(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),F(e,"getStrokeDasharray",function(t,r,n){var i=n.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(r,t);for(var s=t%i,o=r-t,c=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>s){c=[].concat(O(n.slice(0,l)),[s-u]);break}var d=c.length%2==0?[0,o]:[o];return[].concat(O(a.repeat(n,Math.floor(t/i))),O(c),d).map(function(e){return"".concat(e,"px")}).join(", ")}),F(e,"id",(0,v.EL)("recharts-line-")),F(e,"pathRef",function(t){e.mainCurve=t}),F(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),F(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e),t=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,n=r.xAxis,s=r.yAxis,o=r.layout,c=r.children,l=(0,j.NN)(c,f.W);if(!l)return null;var u=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,k.F$)(e.payload,t)}};return i().createElement(y.m,{clipPath:e?"url(#clipPath-".concat(t,")"):null},l.map(function(e){return i().cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:n,yAxis:s,layout:o,dataPointFormatter:u})}))}},{key:"renderDots",value:function(e,t,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,s=n.dot,o=n.points,c=n.dataKey,l=(0,j.L6)(this.props,!1),u=(0,j.L6)(s,!0),d=o.map(function(e,t){var r=D(D(D({key:"dot-".concat(t),r:3},l),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:c,payload:e.payload,points:o});return a.renderDotItem(s,r)}),h={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(r,")"):null};return i().createElement(y.m,P({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,r,a){var n=this.props,s=n.type,o=n.layout,c=n.connectNulls,l=(n.ref,C(n,S)),u=D(D(D({},(0,j.L6)(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:s,layout:o,connectNulls:c});return i().createElement(x.H,P({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,a=this.props,n=a.points,s=a.strokeDasharray,c=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,p=a.animateNewValues,m=a.width,x=a.height,b=this.state,y=b.prevPoints,g=b.totalLength;return i().createElement(o(),{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i,o=a.t;if(y){var c=y.length/n.length,l=n.map(function(e,t){var r=Math.floor(t*c);if(y[r]){var a=y[r],n=(0,v.k4)(a.x,e.x),i=(0,v.k4)(a.y,e.y);return D(D({},e),{},{x:n(o),y:i(o)})}if(p){var s=(0,v.k4)(2*m,e.x),l=(0,v.k4)(x/2,e.y);return D(D({},e),{},{x:s(o),y:l(o)})}return D(D({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var u=(0,v.k4)(0,g)(o);if(s){var d="".concat(s).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});i=r.getStrokeDasharray(u,g,d)}else i=r.generateSimpleStrokeDasharray(g,u);return r.renderCurveStatically(n,e,t,{strokeDasharray:i})})}},{key:"renderCurve",value:function(e,t){var r=this.props,a=r.points,n=r.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return n&&a&&a.length&&(!s&&o>0||!p()(s,a))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,a=t.dot,n=t.points,s=t.className,o=t.xAxis,c=t.yAxis,l=t.top,u=t.left,h=t.width,p=t.height,x=t.isAnimationActive,b=t.id;if(r||!n||!n.length)return null;var f=this.state.isAnimationFinished,v=1===n.length,w=(0,m.default)("recharts-line",s),k=o&&o.allowDataOverflow,N=c&&c.allowDataOverflow,S=k||N,A=d()(b)?this.id:b,E=null!==(e=(0,j.L6)(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},C=E.r,P=E.strokeWidth,T=((0,j.jf)(a)?a:{}).clipDot,D=void 0===T||T,O=2*(void 0===C?3:C)+(void 0===P?2:P);return i().createElement(y.m,{className:w},k||N?i().createElement("defs",null,i().createElement("clipPath",{id:"clipPath-".concat(A)},i().createElement("rect",{x:k?u:u-h/2,y:N?l:l-p/2,width:k?h:2*h,height:N?p:2*p})),!D&&i().createElement("clipPath",{id:"clipPath-dots-".concat(A)},i().createElement("rect",{x:u-O/2,y:l-O/2,width:h+O,height:p+O}))):null,!v&&this.renderCurve(S,A),this.renderErrorBar(S,A),(v||a)&&this.renderDots(S,D,A),(!x||f)&&g.e.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(O(e),[0]):e,a=[],n=0;n<t;++n)a=[].concat(O(a),O(r));return a}},{key:"renderDotItem",value:function(e,t){var r;if(i().isValidElement(e))r=i().cloneElement(e,t);else if(l()(e))r=e(t);else{var a=t.key,n=C(t,A),s=(0,m.default)("recharts-line-dot","boolean"!=typeof e?e.className:"");r=i().createElement(b.o,P({key:a},n,{className:s}))}return r}}],t&&_(a.prototype,t),r&&_(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);F($,"displayName","Line"),F($,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!w.x.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),F($,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,n=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,c=e.displayedData,l=e.offset,u=t.layout,h=c.map(function(e,t){var c=(0,k.F$)(e,s);return"horizontal"===u?{x:(0,k.Hv)({axis:r,ticks:n,bandSize:o,entry:e,index:t}),y:d()(c)?null:a.scale(c),value:c,payload:e}:{x:d()(c)?null:r.scale(c),y:(0,k.Hv)({axis:a,ticks:i,bandSize:o,entry:e,index:t}),value:c,payload:e}});return D({points:h,layout:u},l)}),a()}catch(e){a(e)}})},2332:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{w:()=>u});var n=r(8983),i=r(8933),s=r(2154),o=r(4283),c=r(7115),l=e([n,i,s,o,c]);[n,i,s,o,c]=l.then?(await l)():l;var u=(0,n.z)({chartName:"LineChart",GraphicalChild:i.x,axisComponents:[{axisType:"xAxis",AxisComp:s.K},{axisType:"yAxis",AxisComp:o.B}],formatAxisMap:c.t9});a()}catch(e){a(e)}})},5920:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>k});var n=r(997),i=r(6689),s=r(2305),o=r(2332),c=r(4206),l=r(2154),u=r(4283),d=r(6531),h=r(8933),p=r(5043),m=r(3809),x=r(6737),b=r(5353),y=r(2599),g=r(3750),f=r.n(g),v=r(1664),j=r.n(v),w=e([x,b,y,s,o,c,l,u,d,h,p,m]);[x,b,y,s,o,c,l,u,d,h,p,m]=w.then?(await w)():w;let N=({children:e,...t})=>n.jsx("button",{...t,className:`px-4 py-2 rounded-lg ${t.disabled?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"} text-white ${t.className||""}`,children:e}),S=({children:e,...t})=>n.jsx("div",{...t,className:`rounded-2xl shadow ${t.className||""}`,children:e}),A=({children:e,...t})=>n.jsx("div",{...t,className:`p-4 ${t.className||""}`,children:e});function k(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(""),[g,v]=(0,i.useState)(null),[w,k]=(0,i.useState)(null),[E,C]=(0,i.useState)(!1),[P,T]=(0,i.useState)(""),[D,O]=(0,i.useState)(!1),[R,_]=(0,i.useState)(!1),[q,I]=(0,i.useState)(""),L=async()=>{if(!e){T("No dashboard data available");return}C(!0),T(""),O(!1),performance.now();try{let t=await x.O.acquireToken(["Mail.Send"]).catch(e=>{throw console.error("Authentication error:",e),Error("Authentication failed. Please sign in again.")}),r=await fetch("/api/sendEmail",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({dashboardData:e})});if(!r.ok){let e=await r.text();throw Error(e||"Failed to send email report")}performance.now(),O(!0),setTimeout(()=>O(!1),5e3)}catch(e){console.error("Email report error:",e),T(e instanceof Error&&e.message.includes("Authentication failed")?"⚠️ Authentication error. Please sign in and try again.":e instanceof Error?`⚠️ ${e.message}`:"⚠️ An unknown error occurred while sending the email.")}finally{C(!1)}},F=async()=>{t(null);let e=performance.now();try{let r=await fetch("//data/data.json");if(!r.ok)throw Error("Failed to fetch dashboard data");let a=await r.json();t(a),console.log(`Data refreshed in ${performance.now()-e}ms`)}catch(e){console.error("Failed to fetch data:",e),T(e.message)}},U=async()=>{_(!0);try{let t=await fetch("/api/generatePdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dashboardData:e,filters:{week:g,system:w}})});if(!t.ok)throw Error("Failed to generate PDF");let r=await t.blob(),a=window.URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=`higuera-summary-${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(a),document.body.removeChild(n)}catch(e){console.error("PDF generation failed:",e),T("Failed to generate PDF report")}finally{_(!1)}};if(!e)return n.jsx("div",{className:"p-6 text-gray-500",children:"Loading dashboard..."});let $=[...new Set(e.weeklyCost.map(e=>e.week))],z=[...new Set(e.issues.map(e=>e.system))],B=g?e.weeklyCost.filter(e=>e.week===g):e.weeklyCost,M=w?e.issues.filter(e=>e.system===w):e.issues;return(0,n.jsxs)("div",{className:"p-6 space-y-8 bg-white text-gray-800 font-sans",children:[n.jsx(()=>n.jsx("nav",{className:"bg-blue-800 text-white py-3 px-6 mb-6 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-bold text-xl",children:"Higuera Azure Project"}),(0,n.jsxs)("div",{className:"flex space-x-6",children:[n.jsx(j(),{href:"/ExecutiveSummary",children:n.jsx("span",{className:"hover:text-blue-200 font-medium cursor-pointer",children:"Executive Summary"})}),n.jsx(j(),{href:"/dashboard",children:n.jsx("span",{className:"hover:text-blue-200 font-medium cursor-pointer",children:"Azure Dashboard"})})]})]})}),{}),(0,n.jsxs)("div",{className:"flex justify-between items-center border-b pb-4",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight text-blue-900",children:"Executive Summary"}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[n.jsx(N,{onClick:F,className:"bg-gray-600 hover:bg-gray-700",children:"\uD83D\uDD04 Refresh"}),n.jsx(N,{onClick:()=>{v(null),k(null)},className:"bg-gray-600 hover:bg-gray-700",disabled:!g&&!w,children:"❌ Clear Filters"}),n.jsx(N,{onClick:()=>{let e=function(e,t){let r=new URLSearchParams;return e&&r.set("week",e),t&&r.set("system",t),`${window.location.origin}${window.location.pathname}?${r.toString()}`}(g,w);I(e),navigator.clipboard.writeText(e).then(()=>alert("Link copied to clipboard!")).catch(console.error)},className:"bg-green-600 hover:bg-green-700",children:"\uD83D\uDD17 Share"}),n.jsx(N,{onClick:U,disabled:R,className:"bg-purple-600 hover:bg-purple-700",children:R?"Generating...":"\uD83D\uDCE5 Download PDF"}),n.jsx("a",{href:"/api/exportExcel",target:"_blank",className:"px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white",children:"\uD83D\uDCCA Export Excel"}),n.jsx(N,{onClick:L,disabled:E,className:"bg-blue-600 hover:bg-blue-700",children:E?"Sending...":"\uD83D\uDCE7 Send Email"})]}),n.jsx("img",{src:"/ADI_Logo.png",alt:"ADI Logo",className:"h-14"})]})]}),q&&(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-2 rounded-lg",children:["Link copied to clipboard!",n.jsx("button",{onClick:()=>I(""),className:"float-right text-blue-500 hover:text-blue-700",children:"✕"})]}),P&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg",children:P}),D&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-lg",children:"Email report sent successfully!"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Budget",value:`$${e.kpis.totalBudget.toLocaleString()}`},{label:"Spent",value:`$${e.kpis.spent.toLocaleString()}`},{label:"Remaining",value:`$${e.kpis.remaining.toLocaleString()}`},{label:"Overrun Risk",value:e.kpis.risk,color:"text-red-500"}].map((e,t)=>n.jsx(S,{children:(0,n.jsxs)(A,{children:[n.jsx("div",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:e.label}),n.jsx("div",{className:`text-3xl font-bold ${e.color||"text-gray-900"}`,children:e.value})]})},t))}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-3 mt-2",children:[$.map((e,t)=>n.jsx(N,{onClick:()=>v(g===e?null:e),className:g===e?"bg-blue-600":"bg-white text-blue-700 border-blue-500 border",children:e},t)),z.map((e,t)=>n.jsx(N,{onClick:()=>k(w===e?null:e),className:w===e?"bg-green-600":"bg-white text-green-700 border-green-500 border",children:e},t))]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(S,{children:(0,n.jsxs)(A,{children:[n.jsx("h3",{className:"text-md font-semibold text-blue-800 mb-2",children:"Cost Over Time"}),n.jsx(s.h,{width:"100%",height:220,children:(0,n.jsxs)(o.w,{data:B,children:[n.jsx(c.q,{strokeDasharray:"3 3"}),n.jsx(l.K,{dataKey:"week"}),n.jsx(u.B,{}),n.jsx(d.u,{}),n.jsx(h.x,{type:"monotone",dataKey:"AdjustedTotalCost",stroke:"#2563eb"}),n.jsx(h.x,{type:"monotone",dataKey:"TotalWeeklyCost",stroke:"#10b981"})]})})]})}),n.jsx(S,{children:(0,n.jsxs)(A,{children:[n.jsx("h3",{className:"text-md font-semibold text-blue-800 mb-2",children:"Budget Breakdown"}),n.jsx(s.h,{width:"100%",height:220,children:(0,n.jsxs)(p.v,{data:e.breakdown,children:[n.jsx(c.q,{strokeDasharray:"3 3"}),n.jsx(l.K,{dataKey:"type"}),n.jsx(u.B,{}),n.jsx(d.u,{}),n.jsx(m.$,{dataKey:"cost",fill:"#2563eb"})]})})]})})]}),(0,n.jsxs)("div",{className:"pt-10",children:[n.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Schedule Tracker"}),n.jsx(S,{children:n.jsx(A,{children:n.jsx(s.h,{width:"100%",height:300,children:(0,n.jsxs)(p.v,{data:e.schedule,children:[n.jsx(c.q,{strokeDasharray:"3 3"}),n.jsx(l.K,{dataKey:"task"}),n.jsx(u.B,{}),n.jsx(d.u,{}),n.jsx(m.$,{dataKey:"Planned",fill:"#93c5fd"}),n.jsx(m.$,{dataKey:"Actual",fill:"#fca5a5"})]})})})})]}),(0,n.jsxs)("div",{className:"pt-10",children:[n.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Hours Tracking & Forecasting"}),n.jsx(S,{children:n.jsx(A,{children:e.hoursTracking?n.jsx(b.Z,{hoursData:e.hoursTracking}):n.jsx("div",{className:"p-4 bg-gray-50 text-gray-600 rounded",children:"No hours tracking data available"})})})]}),(0,n.jsxs)("div",{className:"pt-10",children:[n.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Task Updates"}),n.jsx(S,{children:n.jsx(A,{children:n.jsx(y.Z,{tasks:e.schedule,onTaskUpdated:r=>{t({...e,schedule:e.schedule.map(e=>e.task===r.task.task?r.task:e),hoursTracking:r.hoursTracking})}})})})]}),(0,n.jsxs)("div",{className:"pt-10",children:[n.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Worker Hours Tracker"}),n.jsx(S,{children:n.jsx(A,{children:n.jsx(f(),{onHoursLogged:r=>{t({...e,workerHours:r.workerHours,hoursTracking:r.hoursTracking})}})})})]}),(0,n.jsxs)("div",{className:"pt-10",children:[n.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Root Cause Matrix"}),n.jsx(S,{children:n.jsx(A,{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full text-sm text-left table-auto",children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{className:"bg-blue-50 text-blue-800 border-b",children:[n.jsx("th",{className:"pr-4 pb-2",children:"Date"}),n.jsx("th",{className:"pr-4 pb-2",children:"Issue"}),n.jsx("th",{className:"pr-4 pb-2",children:"System"}),n.jsx("th",{className:"pr-4 pb-2",children:"Impact"}),n.jsx("th",{className:"pr-4 pb-2",children:"Accountability"}),n.jsx("th",{className:"pb-2",children:"Consequence"})]})}),n.jsx("tbody",{children:M.map((e,t)=>(0,n.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[n.jsx("td",{className:"pr-4 py-2",children:e.date}),n.jsx("td",{className:"pr-4 py-2",children:e.issue}),n.jsx("td",{className:"pr-4 py-2",children:e.system}),n.jsx("td",{className:"pr-4 py-2",children:e.impact}),n.jsx("td",{className:"pr-4 py-2",children:e.accountability}),n.jsx("td",{className:"py-2",children:e.consequence})]},t))})]})})})]}),(0,n.jsxs)("div",{className:"pt-10 border-t pt-4 text-sm text-gray-500",children:["Project Higuera Oversight Report | Ayala Development Inc.",n.jsx("br",{}),"Version: ","v1.0.0"," — Last Updated: ",r]})]})}a()}catch(e){a(e)}})},5113:e=>{"use strict";e.exports=require("@azure/identity")},8700:e=>{"use strict";e.exports=require("@azure/monitor-query")},6042:e=>{"use strict";e.exports=require("applicationinsights")},5502:e=>{"use strict";e.exports=require("eventemitter3")},8759:e=>{"use strict";e.exports=require("lodash/every")},6918:e=>{"use strict";e.exports=require("lodash/find")},8190:e=>{"use strict";e.exports=require("lodash/flatMap")},1712:e=>{"use strict";e.exports=require("lodash/get")},2327:e=>{"use strict";e.exports=require("lodash/isBoolean")},113:e=>{"use strict";e.exports=require("lodash/isEqual")},5716:e=>{"use strict";e.exports=require("lodash/isFunction")},8843:e=>{"use strict";e.exports=require("lodash/isNaN")},6069:e=>{"use strict";e.exports=require("lodash/isNil")},7078:e=>{"use strict";e.exports=require("lodash/isNumber")},5795:e=>{"use strict";e.exports=require("lodash/isObject")},5452:e=>{"use strict";e.exports=require("lodash/isPlainObject")},7026:e=>{"use strict";e.exports=require("lodash/isString")},3824:e=>{"use strict";e.exports=require("lodash/last")},9941:e=>{"use strict";e.exports=require("lodash/mapValues")},6625:e=>{"use strict";e.exports=require("lodash/max")},541:e=>{"use strict";e.exports=require("lodash/memoize")},604:e=>{"use strict";e.exports=require("lodash/min")},4042:e=>{"use strict";e.exports=require("lodash/range")},4129:e=>{"use strict";e.exports=require("lodash/some")},3672:e=>{"use strict";e.exports=require("lodash/sortBy")},1381:e=>{"use strict";e.exports=require("lodash/throttle")},9309:e=>{"use strict";e.exports=require("lodash/uniqBy")},5428:e=>{"use strict";e.exports=require("lodash/upperFirst")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},1469:e=>{"use strict";e.exports=require("react-is")},3522:e=>{"use strict";e.exports=require("react-smooth")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9540:e=>{"use strict";e.exports=require("recharts-scale")},7773:e=>{"use strict";e.exports=require("redis")},8970:e=>{"use strict";e.exports=require("victory-vendor/d3-scale")},2725:e=>{"use strict";e.exports=require("victory-vendor/d3-shape")},5315:e=>{"use strict";e.exports=require("path")},4872:e=>{"use strict";e.exports=import("@azure/msal-browser")},6593:e=>{"use strict";e.exports=import("clsx")},4281:e=>{"use strict";e.exports=import("tiny-invariant")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[899,132,748,685],()=>r(2264));module.exports=a})();